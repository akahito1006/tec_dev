<div class="container">
  <div class="row mb-3">
    <div class="col p-0 alert alert-warning p-0 border-0">
      <% if @article.errors.any? %>
        <%= @article.errors.size %>件のエラーが発生しました
        <ul>
          <% @article.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
  </div>
  
  <div class="row mb-3">
    <div class="col">
      <h4>記事編集</h4>
    </div>
  </div>
  
  <%= form_with model: @article do |f|  %>
    <div class="row mb-3">
      <div class="col-md-2">
        <h5>記事のタイトル</h5>
      </div>
      <div class="col">
        <%= f.text_field :title, autofocus: true, placeholder: "記事のタイトル", class:"col-md-5 form-control" %>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-2">
        <h5>本文</h5>
      </div>
      <div class="col">
        <%= f.text_area :content, rows: 15, placeholder: "記事の本文。改行できます。", class:"col-md-8 form-control" %>
      </div>
    </div>
    
  <!--form_with model: @article do |f|-->
    <div class="row mb-3">
      <div class="col-md-2">
        <h5>登録済みの画像</h5>
      </div>
      <div class="col">
        
        <% if @article.article_images.present? %>
          <% @article.article_images.each do |img| %>
            <%= attachment_image_tag img, :image, class:"img-thumbnail", width:"300" %>
            <%= f.check_box :image, {checked: true}, true, false %>
          <% end %>
        <% end %>
        
      </div>
    </div>
    
    <div class="row mb-3">
      <div class="col-md-2">
        <h5>画像アップロード（複数選択可）</h5>
      </div>
      <div class="col">
        <%= f.attachment_field :article_images_images, multiple: true %>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-8 mx-auto">
        <%= f.submit "編集を確定する", class:"col-md-3 btn btn-success" %>
        <%= link_to "記事を削除する", article_path(params[:id]), class:"col-md-3 btn btn-danger", method: :delete, data: { confirm: '本当に削除しますか？' } %>
      </div>
    </div>
  <% end %>

</div>